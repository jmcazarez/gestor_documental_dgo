<ngx-spinner></ngx-spinner>
<div class="modal" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
    <!-- REACTIVE FORM EXAMPLE -->


    <form class="mat-card mat-elevation-z4" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="form"
        [formGroup]="form">

        <div *ngIf="!this.diputado.id" class="h2 mb-24">Crear diputado</div>
        <div *ngIf="this.diputado.id" class="h2 mb-24">Modificación o actualización de diputado</div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>Diputado *</mat-label>
                <input matInput formControlName="nombre">
                <mat-icon matSuffix class="secondary-text">insert_drive_file</mat-icon>
                <mat-error *ngIf="form.get('nombre').hasError('required')">El nombre del diputado es requerido
                </mat-error>
                <mat-error *ngIf="form.get('nombre').hasError('minlength') || form.get('nombre').hasError('maxlength')">
                    Valor invalido, el mínimo de caracteres es 3
                    y el máximo son 100 </mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>Distrito *</mat-label>
                <mat-select formControlName="distrito" [(ngModel)]="selectedDistrito" name="distrito">
                    <mat-option *ngFor="let distrito of arrDistritos" [value]="distrito.id">
                        {{distrito.descripcion}}
                    </mat-option>
                </mat-select>
                <mat-error>El partido politico es requerido</mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>Partido *</mat-label>
                <mat-select formControlName="partido" [(ngModel)]="selectedPartido" name="partido">
                    <mat-option *ngFor="let partido of arrPartidos" [value]="partido.id">
                        {{partido.cPartidoPolitico}}
                    </mat-option>
                </mat-select>
                <mat-error>El partido politico es requerido</mat-error>
            </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>Legislatura *</mat-label>
                <mat-select formControlName="legislatura" [(ngModel)]="selectedLegislatura" name="legislatura">
                    <mat-option *ngFor="let legislatura of arrLegislaturas" [value]="legislatura.id">
                        {{legislatura.cLegislatura}}

                        <span *ngIf="legislatura.bActivo === true" class="activo"> - Activo </span>
                        <span *ngIf="legislatura.bActivo === false" class="inactivo"> - Inactivo </span>
                    </mat-option>
                </mat-select>
                <mat-error>El partido politico es requerido</mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>Telefono *</mat-label>
                <input  matInput formControlName="telefono">
                <mat-icon matSuffix class="secondary-text">phone</mat-icon>
                <mat-error *ngIf="form.get('telefono').hasError('required')">El teléfono es requerido</mat-error>
              
            </mat-form-field>
        </div>

        <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
            <mat-label>Email *</mat-label>
            <input matInput formControlName="email">
            <mat-icon matSuffix class="secondary-text">email</mat-icon>
            <mat-error *ngIf="form.get('email').hasError('required')">El E-Mail es requerido</mat-error>
            <mat-error *ngIf="form.get('email').hasError('pattern')">Introduzca un E-Mail válido</mat-error>
        </mat-form-field>



        <div fxLayout="row" fxLayoutAlign="center" fxFlex="30">
            <section class="example-section">
                <mat-slide-toggle formControlName="estatus" class="example-margin">
                    Estatus
                </mat-slide-toggle>
            </section>
        </div>


    </form>
</div>

<mat-dialog-actions align="end" class="buttons">
    <button mat-raised-button color="warn" (click)="cerrar('')">Cerrar</button>
    <button [disabled]="form.invalid" mat-raised-button color="accent" (click)="guardar()">Guardar</button>
    <!--<button  mat-raised-button color="accent" (click)="clasificarDocumento()">Upload</button> -->
</mat-dialog-actions>