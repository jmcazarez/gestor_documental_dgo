<ngx-spinner></ngx-spinner>
<div class="modal" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
    <!-- REACTIVE FORM EXAMPLE -->

   
    <form class="mat-card mat-elevation-z4" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="form"
        [formGroup]="form">

        <div *ngIf="!this.empleados.id" class="h2 mb-24">Crear empleado</div>
        <div *ngIf="this.empleados.id" class="h2 mb-24">Modificación o actualización de empleado</div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="50" class="ml-16">
                <mat-label>Nombre</mat-label>
                <input matInput formControlName="nombre" >
                <mat-icon matSuffix class="secondary-text">insert_drive_file</mat-icon>          
                <mat-error *ngIf="form.get('nombre').hasError('required')">El nombre del empleado es requerido.</mat-error>
                <mat-error *ngIf="form.get('nombre').hasError('minlength') || form.get('nombre').hasError('maxlength')">Valor invalido, el mínimo de caracteres es 3
                    y el máximo son 100 </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" fxFlex="50" class="ml-16">
                <mat-label>Apellido Paterno</mat-label>
                <input matInput formControlName="apellidoPaterno" >
                <mat-icon matSuffix class="secondary-text">insert_drive_file</mat-icon>          
                <mat-error *ngIf="form.get('apellidoPaterno').hasError('required')">El apellido paterno es requerido.</mat-error>
                <mat-error *ngIf="form.get('apellidoPaterno').hasError('minlength') || form.get('apellidoPaterno').hasError('maxlength')">Valor invalido, el mínimo de caracteres es 3
                    y el máximo son 100 </mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>Apellido Materno</mat-label>
                <input matInput formControlName="apellidoMaterno" >
                <mat-icon matSuffix class="secondary-text">insert_drive_file</mat-icon>          
                <mat-error *ngIf="form.get('apellidoMaterno').hasError('required')">El apellido materno es requerido.</mat-error>
                <mat-error *ngIf="form.get('apellidoMaterno').hasError('minlength') || form.get('apellidoMaterno').hasError('maxlength')">Valor invalido, el mínimo de caracteres es 3
                    y el máximo son 100 </mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>Teléfono</mat-label>
                <input matInput formControlName="telefono" >
                <mat-icon matSuffix class="secondary-text">insert_drive_file</mat-icon>          
                <mat-error *ngIf="form.get('telefono').hasError('required')">El teléfono es requerido.</mat-error>
                <mat-error *ngIf="form.get('telefono').hasError('minlength') || form.get('telefono').hasError('maxlength')">Valor invalido, el mínimo de caracteres es 9
                    y el máximo son 14 </mat-error>
                    <div *ngIf="(telf.invalid && primEmail.touched) || telf.dirty">
                        <!--question mark(?) is a safe navigation operator-->
                        <small *ngIf="telf.errors?.pattern" class="text-danger">Por favor ingrese un teléfono valido.</small>
                      </div>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="1 0 auto" class="pl-4">
                <mat-label>E-mail</mat-label>
                <input matInput type="email" formControlName="email" [class.is-invalid] = "form.get('email').invalid && form.get('email').touched">
                <mat-icon matSuffix class="secondary-text">insert_drive_file</mat-icon>          
                <mat-error *ngIf="form.get('email').hasError('required')">El E-mail es requerido.</mat-error>
                <mat-error *ngIf="form.get('email').hasError('minlength') || form.get('email').hasError('maxlength')">Valor invalido, el mínimo de caracteres es 6
                    y el máximo son 100 </mat-error>
                    <div *ngIf="(primEmail.invalid && primEmail.touched) || primEmail.dirty">
                        <!--question mark(?) is a safe navigation operator-->
                        <small *ngIf="primEmail.errors?.pattern" class="text-danger">Por favor ingrese un correo valido. example@gmail.com</small>
                      </div>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="100">
                <mat-label>Puestos</mat-label>
                <mat-select formControlName="puestos" [(ngModel)]="selectedPuestos" name="puestos">
                    <mat-option *ngFor="let puestos of arrPuestos" [value]="puestos.id">
                        {{puestos.descripcion}}
                    </mat-option>
                </mat-select>
                <mat-error>El puesto es requerido.</mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="100">
                <mat-label>Secretarias</mat-label>
                <mat-select formControlName="secretarias" [(ngModel)]="selectedSecretaria" name="secretarias">
                    <mat-option *ngFor="let secretarias of arrSecretarias" [value]="secretarias.id">
                        {{secretarias.cDescripcionSecretaria}}
                    </mat-option>
                </mat-select>
                <mat-error>La secretaria es requerida.</mat-error>
            </mat-form-field>
        </div>
        
        <div fxLayout="row" fxLayoutAlign="center" fxFlex="30">
            <section class="example-section">
                <mat-slide-toggle formControlName="estatus" class="example-margin">
                    Estatus
                </mat-slide-toggle>
            </section>
        </div>


    </form>
</div>

<mat-dialog-actions align="end" class="buttons">
    <button mat-raised-button color="warn" (click)="cerrar('')">Cerrar</button>
    <button [disabled]="form.invalid" mat-raised-button color="accent" (click)="guardar()">Guardar</button>
    <!--<button  mat-raised-button color="accent" (click)="clasificarDocumento()">Upload</button> -->
</mat-dialog-actions>