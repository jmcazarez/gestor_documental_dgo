import { Observable } from 'rxjs';
import { ImgExifService } from './img-exif.service';
import * as ɵngcc0 from '@angular/core';
export declare class ImgMaxSizeService {
    private imageExifService;
    timeAtStart: number;
    initialFile: File;
    constructor(imageExifService: ImgExifService);
    compressImage(file: File, maxSizeInMB: number, ignoreAlpha?: boolean, logExecutionTime?: boolean): Observable<any>;
    private getCompressedFile(cvs, quality, maxSizeInMB, currentStep);
    private getResultFile(blob);
    private generateResultFile(blob, name, type, lastModified);
    private blobToFile(blob, name, lastModified);
    private getCalculatedQuality(blob, quality, maxSizeInMB, currentStep);
    private checkCompressionStatus(cvs, blob, quality, maxSizeInMB, currentStep, newQuality);
    private isImgUsingAlpha(imageData);
    private logExecutionTime(logExecutionTime);
    static ɵfac: ɵngcc0.ɵɵFactoryDef<ImgMaxSizeService, never>;
    static ɵprov: ɵngcc0.ɵɵInjectableDef<ImgMaxSizeService>;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1nLW1heC1zaXplLnNlcnZpY2UuZC50cyIsInNvdXJjZXMiOlsiaW1nLW1heC1zaXplLnNlcnZpY2UuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBJbWdFeGlmU2VydmljZSB9IGZyb20gJy4vaW1nLWV4aWYuc2VydmljZSc7XHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEltZ01heFNpemVTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgaW1hZ2VFeGlmU2VydmljZTtcclxuICAgIHRpbWVBdFN0YXJ0OiBudW1iZXI7XHJcbiAgICBpbml0aWFsRmlsZTogRmlsZTtcclxuICAgIGNvbnN0cnVjdG9yKGltYWdlRXhpZlNlcnZpY2U6IEltZ0V4aWZTZXJ2aWNlKTtcclxuICAgIGNvbXByZXNzSW1hZ2UoZmlsZTogRmlsZSwgbWF4U2l6ZUluTUI6IG51bWJlciwgaWdub3JlQWxwaGE/OiBib29sZWFuLCBsb2dFeGVjdXRpb25UaW1lPzogYm9vbGVhbik6IE9ic2VydmFibGU8YW55PjtcclxuICAgIHByaXZhdGUgZ2V0Q29tcHJlc3NlZEZpbGUoY3ZzLCBxdWFsaXR5LCBtYXhTaXplSW5NQiwgY3VycmVudFN0ZXApO1xyXG4gICAgcHJpdmF0ZSBnZXRSZXN1bHRGaWxlKGJsb2IpO1xyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVJlc3VsdEZpbGUoYmxvYiwgbmFtZSwgdHlwZSwgbGFzdE1vZGlmaWVkKTtcclxuICAgIHByaXZhdGUgYmxvYlRvRmlsZShibG9iLCBuYW1lLCBsYXN0TW9kaWZpZWQpO1xyXG4gICAgcHJpdmF0ZSBnZXRDYWxjdWxhdGVkUXVhbGl0eShibG9iLCBxdWFsaXR5LCBtYXhTaXplSW5NQiwgY3VycmVudFN0ZXApO1xyXG4gICAgcHJpdmF0ZSBjaGVja0NvbXByZXNzaW9uU3RhdHVzKGN2cywgYmxvYiwgcXVhbGl0eSwgbWF4U2l6ZUluTUIsIGN1cnJlbnRTdGVwLCBuZXdRdWFsaXR5KTtcclxuICAgIHByaXZhdGUgaXNJbWdVc2luZ0FscGhhKGltYWdlRGF0YSk7XHJcbiAgICBwcml2YXRlIGxvZ0V4ZWN1dGlvblRpbWUobG9nRXhlY3V0aW9uVGltZSk7XHJcbn1cclxuIl19